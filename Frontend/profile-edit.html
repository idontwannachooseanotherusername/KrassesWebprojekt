<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Profile</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="css/main.css"></link>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript" src="scripts/main.js"></script>
    </head>
     
    <body>
        <noscript>
            <p class="noscript">Please enable JavaScript so we can track and blackmail you!</p>
        </noscript>
        <header>
            <nav class="main-menu">
                <div class="wrapper">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="challenges.html">Challenges</a></li>
                        <li class="active"><a href="#">Profile</a></li>
                    </ul>
                    <div class="pb-image-wrapper">
                        <img id="pb" onClick="show_dropdown()" src="images/Kachel.png">
                    </div>
                    <dl class="dropdown" id="menu-dropdown">
                        <dt class="dropdown-entry">Signed in as<br>Username</dt>
                        <dd class="dropdown-entry"><a href="profile.html">Settings</a></dd>
                        <dd class="dropdown-entry">Account</dd>
                        <dd class="dropdown-entry">Logout</dd>
                    </dl>
                </div>
            </nav>
        </header>
        <section class="background bg-image">
            <form class="change-banner">
                <label for="profile-banner">✏️</label></br>
                <input type="file" class="btn-primary" id="profile-banner">
            </form>
        </section>
            <div class="profile-header">
                <div class="profile-picture ">
                    <img class="img-border" src="images/Logo.png">
                        <form class="change-picture">
                            <label for="profile-pic">✏️</label></br>
                            <input type="file" class="btn-primary" id="profile-pic">
                        </form>
                </div>
                <p class="user-name">
                    Username
                </p>
            </div>
        <main>
            <section class="profile">
                <article class="profile-info">
                    <h2>Bio</h2>
                    <p id="profile-description">Hier steht meine tolle Beschreibung</p>
                    <h2>Country</h2>
                    <p id="profile-country">Hier</p>
                    <h2>Points</h2>
                    <p id="profile-points">50324857692</p>
                    <h2>Solved Challenges (120)</h2>
                    <ul id="profile-solved">
                        <li><a href="">(#2463) Challengename</a></li>
                        <li><a href="">(#2463) Challengename</a></li>
                        <li><a href="">(#2463) Challengename</a></li>
                        <li><a href="">(#2463) Challengename</a></li>
                    </ul>
                    <h2>Created Challenges (2)</h2>
                    <ul id="profile-created">
                        <li><a href="">(#2463) Challengename</a></li>
                        <li><a href="">(#2463) Challengename</a></li>
                    </ul>
                </article>
            </section>
        </main>
        <footer>
            <a class="btn-to-top" href="#">↑</a>
            <nav class="footer-menu">
                <dl>
                    <dt>Legal</dt>
                    <dd>Privacy<dd>
                    <dd>Sth. else<dd>
                    <dd>ToS<dd>
                </dl>
                <dl>
                    <dt>Contact</dt>
                    <dd>Site problem<dd>
                    <dd>Sth. else<dd>
                </dl>
            </nav>
            <p class="copyright">
                Copyright © 1529–4203 Some weird company
            </p>
        </footer>

        <script>
            $(document).ready(function() {

                $.ajax({
                    url: 'http://localhost:8001/wba2api/user/get/1',
                    method: 'get',
                    dataType: 'json'
                }).done(function (response) {
                    console.log(response);
                    $(".user-name").html(response.daten.username);
                    $('#profile-description').html(response.daten.bio);
                    $('#profile-country').html(response.daten.country.countryname);
                    $('#profile-points').html(response.daten.points);
                    
                }).fail(function (jqXHR, statusText, error) {
                    console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
                    alert.html('Ein Fehler ist aufgetreten');
                });
            });
    
           
        </script>
    </body>
</html>
